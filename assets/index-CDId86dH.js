(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();function d({label:e,onClick:t}){const o=document.createElement("button");return o.classList.add("btn"),o.textContent=e,o.addEventListener("click",t),o}function f(){const e=document.createElement("div");e.classList.add("admin-day-view"),e.innerHTML="<h1>Admin Day View</h1>";const t=d({label:"Logout",onClick:()=>{console.log("clicked logout button"),localStorage.removeItem("user"),window.location.href="/admin"}});return e.appendChild(t),e}function p(){const e=document.createElement("div");e.classList.add("admin-staff-manage"),e.innerHTML="<h1>Manage Staff</h1>";const t=d({label:"Logout",onClick:()=>{console.log("clicked logout button"),localStorage.removeItem("user"),window.location.href="/admin"}});return e.appendChild(t),e}function g(){const e=document.createElement("div");e.innerHTML=`
        <h1>Check your status</h1>
        <p>Here is your current status.</p>
    `;const t=d({label:"Check Status Entry",onClick:()=>{console.log("clicked button"),alert("Welcome!")}}),o=d({label:"Logout",onClick:()=>{console.log("clicked logout button"),localStorage.removeItem("user"),window.location.href="/"}});return e.appendChild(t),e.appendChild(o),e}function c(){const e=document.createElement("div");return e.innerHTML=`
        <h1>Page Not Found</h1>
        <p>Sorry, the page you are looking for does not exist.</p>
    `,e}function m(){const e=document.createElement("div");e.classList.add("login-container");const t=document.createElement("h1");t.textContent="Login";const o=document.createElement("form");return o.innerHTML=`
    <label for="username">Username</label>
    <input type="text" id="username" name="username" required />
    
    <label for="password">Password</label>
    <input type="password" id="password" name="password" required />
    
    <button type="submit">Login</button>
  `,o.onsubmit=a=>{a.preventDefault();const n=a.target.username.value,i=a.target.password.value;if(n==="admin"&&i==="admin123"){const s={username:n,role:"admin"};localStorage.setItem("user",JSON.stringify(s)),window.location.href="/admin/day-view"}else if(n==="superadmin"&&i==="admin123"){const s={username:n,role:"super-admin"};localStorage.setItem("user",JSON.stringify(s)),window.location.href="/admin/day-view"}else if(n==="user"&&i==="user123"){const s={username:n,role:"user"};localStorage.setItem("user",JSON.stringify(s)),window.location.href="/"}else alert("Invalid credentials")},e.appendChild(t),e.appendChild(o),e}function h(){const e=document.createElement("div");e.classList.add("home-container"),e.innerHTML+=`
  <h1 class="home-title">Welcome to the Dashboard App</h1>
  `;const t=m();return e.appendChild(t),e}function w(){const e=document.createElement("div");e.classList.add("login-container");const t=m();return e.appendChild(t),e}function b(){const e=document.createElement("div");e.innerHTML=`
        <h1>Your Profile</h1>
        <p>Manage your information and dashboards.</p>
    `;const t=d({label:"Edit Profile",onClick:()=>{console.log("clicked button"),alert("Welcome!")}});return e.appendChild(t),e}let r=JSON.parse(localStorage.getItem("user"))||null;const y=e=>!e.startsWith("/admin")&&r&&r.role==="user",L=e=>e.startsWith("/admin")?r?r.role==="admin"||r.role==="super-admin"?(console.log("Access granted for admin."),!0):(console.log("Access denied for non-admin."),!1):(console.log("No user found. Redirecting to login."),!1):!1,l={"/":h,"/dashboard":g,"/profile":b,"/admin":w,"/admin/day-view":f,"/admin/staff-manage":p};function u(){const e=window.location.pathname;let t=e,o=l[t]||c;switch(console.log("path",e),console.log(r==null?void 0:r.role),!0){case t.startsWith("/admin"):(r==null?void 0:r.role)==="user"?o=c:L(e)?(console.log("Admin access granted."),t==="/admin"&&(t="/admin/day-view"),o=l[t]||c):(o=l["/admin"],console.log("Admin access denied."));break;case((r==null?void 0:r.role)==="admin"&&!t.startsWith("/admin")):o=c;break;case y(e):t==="/"&&(t="/dashboard"),o=l[t]||c,console.log("routePath",t);break;default:o=l["/"],window.history.pushState({},"/",window.location.origin)}const a=document.getElementById("app");a.innerHTML="",a.appendChild(o())}function v(e){window.history.pushState({},e,window.location.origin+e),u()}function C(){window.addEventListener("popstate",u),u(),document.body.addEventListener("click",e=>{const t=e.target.closest("a");t&&t.matches("[data-link]")&&(e.preventDefault(),v(t.getAttribute("href")))})}document.addEventListener("DOMContentLoaded",()=>{C()});
